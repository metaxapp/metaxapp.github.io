## 广告拦截新增脚本规则，扩展性进一步增强

### 2020-06-16

荟萃浏览器早已支持AdBlock拦截规则，但传统的AdBlock拦截规则仍然有许多不足。

针对第三方订阅规则不能有效覆盖用户使用网站的情况，2.10版新增了举报广告的功能，从而可以针对性制定拦截规则。而针对传统AdBlock规则不够灵活的问题，2.10版在此基础上扩展了脚本拦截规则，用于解决一些更复杂的需求。

比如以下情况：

*1.原网页缺少标题：可以通过脚本添加上标题。*

*2.原网页强制部分链接在APP中打开：可以通过脚本解除限制，直接在浏览器内打开。*

*3.原网页折叠部分内容，需要点击展开，甚至强制在APP中浏览：可以通过脚本解除限制，直接显示全部内容。*

*4.广告缺少可以标识的CSS选择器，无法通过AdBlock规则隐藏：可以寻找到更加特殊的特征（比如文字），专门用脚本识别并隐藏。*

*5.原网页在特定浏览器标识下显示更加简洁：可以通过脚本修改浏览器标识。*

以上情况也可以通过安装插件来实现，而且更适合编写更加复杂的脚本。但集成到拦截规则中的好处在于，用户可以通过订阅规则来统一下载更新，无需像插件一样去手动选择安装/更新。

目前脚本规则支持两种两种写法：

```
//页面开始加载时执行：
host==javascript@start:脚本代码

//页面加载结束时执行：
host==javascript@idle:脚本代码
```